"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withBranch = void 0;
const Branch_1 = require("../../android/Branch");
const Branch_2 = require("../../ios/Branch");
const withRunOnce_1 = require("../withRunOnce");
const withStaticPlugin_1 = require("../withStaticPlugin");
const packageName = 'expo-branch';
const withBranch = config => {
    return withStaticPlugin_1.withStaticPlugin(config, {
        _isLegacyPlugin: true,
        plugin: packageName,
        // If the static plugin isn't found, use the unversioned one.
        fallback: withUnversionedBranch,
    });
};
exports.withBranch = withBranch;
const withUnversionedBranch = withRunOnce_1.createRunOncePlugin(config => {
    config = Branch_1.withBranch(config);
    config = Branch_2.withBranch(config);
    return config;
}, packageName);
exports.default = exports.withBranch;
//# sourceMappingURL=expo-branch.js.map